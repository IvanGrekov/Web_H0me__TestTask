(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(8),i=n.n(s),r=n(9),m=n(2),o="https://jordan.ashton.fashion/api/goods/30/comments",l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return fetch("".concat(o,"?page=").concat(t),e).then((function(e){return e.json()}))},j=a.a.createContext({updateData:function(){},pagesAmount:1,currentCommentList:[],currentPage:0,getData:function(){}}),u=(n(14),n(0)),b=a.a.memo((function(){var e=Object(c.useContext)(j).updateData,t=Object(c.useState)(""),n=Object(m.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(""),r=Object(m.a)(i,2),o=r[0],b=r[1],d=function(){var t={name:a,text:o};s(""),b(""),function(e){var t={method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}};return l(t).then((function(e){return e}))}(t).then((function(){return e()}))};return Object(u.jsxs)("form",{className:"new-comment__form",onSubmit:function(e){e.preventDefault(),d()},children:[Object(u.jsxs)("label",{htmlFor:"name",className:"new-comment__label",children:[Object(u.jsx)("span",{className:"new-comment__label-title",children:"Enter the name"}),Object(u.jsx)("input",{id:"name",className:"new-comment__input",type:"text",name:"name",placeholder:"Author's name",required:!0,value:a,onChange:function(e){s(e.target.value)}})]}),Object(u.jsxs)("label",{htmlFor:"text",className:"new-comment__label",children:[Object(u.jsx)("span",{className:"new-comment__label-title",children:"Enter the text"}),Object(u.jsx)("textarea",{id:"text",className:"new-comment__input new-comment__input--textarea",placeholder:"\u0421omment text",rows:"5",required:!0,value:o,onChange:function(e){b(e.target.value)}})]}),Object(u.jsx)("button",{className:"new-comment__submit",type:"submit",children:"Add"})]})})),d=(n(16),a.a.memo((function(){return Object(u.jsx)("section",{className:"new-comment app__content",children:Object(u.jsxs)("div",{className:"new-comment__wrapper",children:[Object(u.jsx)("h2",{className:"new-comment__title",children:"Add a new comment"}),Object(u.jsx)(b,{})]})})}))),h=(n(17),a.a.memo((function(){return Object(u.jsxs)("div",{className:"loader",children:[Object(u.jsx)("div",{className:"loader__spinner"}),Object(u.jsx)("span",{className:"loader__text",children:"Loading data..."})]})}))),x=n(4),O=n.n(x),_=(n(18),a.a.memo((function(e){var t=e.item,n=Object(c.useState)(!1),a=Object(m.a)(n,2),s=a[0],i=a[1],r=t.name,o=t.text,l=o.length>75;return o.length>70&&(l=!0),Object(u.jsxs)("li",{className:"comment comment-list__item",children:[Object(u.jsx)("h3",{className:"comment__name",children:r}),Object(u.jsx)("p",{className:O()("comment__text",{"comment__text--expand":s}),children:o}),Object(u.jsx)("button",{className:O()("comment__show",{"comment__show--disabled":!l}),onClick:function(){return i(!s)},type:"button",children:s?"Hide full comment":"Show full comment"})]})}))),p=a.a.memo((function(){return Object(u.jsx)("li",{className:"pagination__item",children:Object(u.jsx)("button",{className:"pagination__link",type:"button",disabled:!0,children:"..."})})})),g=n(6),f=n.n(g),N=a.a.memo((function(e){var t=e.number,n=e.currentPage,c=e.getData;return Object(u.jsx)("li",{className:"pagination__item",children:Object(u.jsx)("button",{className:O()("pagination__link",{"pagination__link--selected":n===t}),type:"button",onClick:function(){t!==n&&c(t)},children:t})})}));N.propTypes={number:f.a.number.isRequired,currentPage:f.a.number.isRequired,getData:f.a.func.isRequired};n(21);var v=a.a.memo((function(){var e=Object(c.useContext)(j),t=e.currentPage,n=e.pagesAmount,a=e.getData,s=function(e){return Object(u.jsx)(N,{number:e,currentPage:t,getData:a})};return Object(u.jsxs)("ul",{className:"pagination",children:[Object(u.jsx)("li",{className:"pagination__item",children:Object(u.jsx)("button",{className:"pagination__link pagination__link--switcher",type:"button",disabled:1===t,onClick:function(){a(t-1)},children:"<"})}),s(1),7===n?Object(u.jsxs)(u.Fragment,{children:[s(2),s(3)]}):1===t?Object(u.jsxs)(u.Fragment,{children:[s(2),Object(u.jsx)(p,{})]}):2===t?Object(u.jsxs)(u.Fragment,{children:[s(2),s(3),Object(u.jsx)(p,{})]}):3===t?Object(u.jsxs)(u.Fragment,{children:[s(2),s(3),s(4),Object(u.jsx)(p,{})]}):t===n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(p,{}),s(n-1)]}):t===n-1?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(p,{}),s(n-2),s(n-1)]}):t===n-2?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(p,{}),s(n-3),s(n-2),s(n-1)]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(p,{}),s(t-1),s(t),s(t+1),Object(u.jsx)(p,{})]}),s(n),Object(u.jsx)("li",{className:"pagination__item",children:Object(u.jsx)("button",{className:"pagination__link pagination__link--switcher",type:"button",disabled:t===n,onClick:function(){a(t+1)},children:">"})})]})})),w=(n(22),a.a.memo((function(){var e=Object(c.useContext)(j).currentCommentList;return Object(u.jsxs)("div",{className:"comment-list app__content",children:[Object(u.jsx)("h2",{className:"comment-list__title",children:"Comments"}),0===e.length?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(h,{})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ul",{className:"comment-list__content",children:e.map((function(e){var t=e.id,n=e.name,c=e.text;return Object(u.jsx)(_,{item:{name:n,text:c}},t)}))}),Object(u.jsx)("div",{className:"comment-list__pagination",children:Object(u.jsx)(v,{})})]})]})}))),C=(n(23),function(){var e=Object(c.useState)(1),t=Object(m.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),i=Object(m.a)(s,2),o=i[0],b=i[1],h=Object(c.useState)(0),x=Object(m.a)(h,2),O=x[0],_=x[1],p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l({},e).then((function(e){var t=e.data,n=e.last_page,c=e.current_page;_(c),b(Object(r.a)(t)),a(n)}))};return Object(c.useEffect)((function(){p()}),[]),Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)("h1",{className:"app__title",children:"Comments"}),Object(u.jsxs)(j.Provider,{value:{updateData:function(){p(O)},pagesAmount:n,currentCommentList:o,currentPage:O,getData:p},children:[Object(u.jsx)(d,{}),Object(u.jsx)(w,{})]})]})});i.a.render(Object(u.jsx)(C,{}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.62dcc00a.chunk.js.map